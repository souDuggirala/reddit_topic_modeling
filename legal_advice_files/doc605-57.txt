I live in a college town and regrettably rented from the scummiest landlord because the house is good for parties. The landlord is well known as a terrible person, and is currently in a lawsuit against the Department of Justice for telling girls he would reduce their rent, or 'get their issues repair quicker' in exchange for sex.

I have a couple questions about my lease and my rights. 

1-) In our city, you can not rent a house to more than 4 unrelated people. My house is 8 bedrooms, and there are 8 of us living here. The house is technically 2 units, but he has us all on 1 lease. Is he able to do this, or does the lease need to be split into 2? If it needs to be split into 2, could the lease be voided because of this?

2-) I know that Landlords need to give notice before entering the house, unless it is an emergency. During thanksgiving break, I stayed in the house alone, and everyone else went home. I guess he thought everyone went home, so he had a realtor come show the house to some potential buyers, without letting any of us know. He will also come to the house randomly, and if nobody answers his knocks on the door, he will just let himself in, and walk around looking to see if we are there. Can he do this, and if not, what can we do about this?

3-) We have had a broken window for 2 months, and it has not been fixed. Upstate NY gets very cold in the winter, and having a broken window does not help. Also, There is a leak in the roof, right above my bedroom, and whenever it rains bad, it leaks all over my bed (and my room is too small to move the bed anywhere else where it will not get wet). His maintenance guys came and looked at it about 2 weeks ago, and said they were going to fix it, but still have not. What can I do about this shit landlord? [removed]